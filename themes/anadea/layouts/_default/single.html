{{- define "page-js" -}}
  {{ partialCached "head/post_js.html" . }}
{{- end -}}

{{- define "main" -}}
  {{- partial "post_head.html" . -}}

  <div class="container container__w960 postBody">
    <article class="ToC__mobileOnly">
      <div class="ToC">
        <h6 class="ToC__title">Table of contents</h6>
        {{ .TableOfContents }}
      </div>
    </article>

    <div id="sentinel"></div>
    <div class="markdown">
      {{ .Content }}
    </div>

    <aside class="postBody__aside">
      <article class="ToC__desktopOnly">
        <div class="ToC" id="toc">
          <h6 class="ToC__title">Table of contents</h6>
          {{ .TableOfContents }}
        </div>
      </article>

      <div class="postBody__animated">
        {{- with .Page.GetTerms "authors" -}}
          {{- with index . 0 -}}
            {{- $baseName := path.BaseName .Path -}}
            {{- $author := index .Site.Data.authors $baseName -}}
            <div class="sticky hidden" id="author-connect">
              {{- partial "connect_author.html" (dict "author" $author "url" .RelPermalink) -}}
            </div>
          {{- end -}}
        {{- end -}}

        <div class="sticky hidden" id="read-next">
          {{- partial "read_next.html" . -}}
        </div>
      </div>
    </aside>
  </div>

  <div class="container container__w1300">
    {{- partial "questions.html" . -}}
    {{- partial "subscription.html" . -}}
    {{- partial "keep_reading.html" . -}}
    {{- partial "contacts.html" . -}}
  </div>
{{- end -}}
